<html>
    <head>
        <meta charset="utf-8">
        <title>Promise小练习</title>
        <style>
            #box{
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 300px;
                height: 300px;
                border-radius: 300px;
                transition: all .5s ease-in-out;
            }
        </style>
    </head>
    <body>
        <div id="box"></div>
    </body>
    <script>
        const box = document.getElementById('box');
        function sleep(duration, color) {
            return new Promise((resolve, reject) => {
                setTimeout(resolve, duration)
            });
        }
        async function changeColor(duration, color) {
            box.style.backgroundColor = color;
            await sleep(duration);
        }
        async function main() {
            while(true) {
                await changeColor(3000, 'green');
                await changeColor(1000, 'yellow');
                await changeColor(2000, 'red');
            }
        }
        main();
    </script>
</html>